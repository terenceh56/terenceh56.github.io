---
import BaseHead from '@/components/BaseHead.astro';
import { ClientRouter } from 'astro:transitions';
import Header from '@/components/Header.astro';
import Footer from '@/components/Footer.astro';
import BeyondSurfaceIntro from '@/components/BeyondSurfaceIntro.astro';

const { frontmatter = { comment: false } } = Astro.props;

const anim = {
  old: {
    name: 'fadeOut',
    duration: '0s',
    easing: 'linear',
    fillMode: 'forwards',
  },
  new: {
    name: 'rise',
    duration: '0.7s',
    easing: 'ease-out',
    fillMode: 'backwards',
  },
};

const customTransition = {
  forwards: anim,
  backwards: anim,
};
---

<html lang="en">
  <head>
    <BaseHead title={Astro.props.title || 'Beyond the Surface'} />
    <ClientRouter />
  </head>

  <body class="bg-skin-secondary relative">
    <Header />
    <main
      class="container p-4 pb-32 min-h-full relative text-skin-base pt-20"
      id="app"
    >
      <div class="max-w-5xl mx-auto" transition:animate={customTransition}>
        <div class="mb-8 text-center">
          <h1 class="text-4xl font-bold mb-4">Beyond the Surface</h1>
          <p class="text-lg text-skin-base opacity-80 italic">
            A space dedicated to what shapes me beneath appearances â€” where
            ideas take form, thoughts settle, and subtle moments evolve into
            milestones. I record the shifts in thinking, the books and
            experiences that challenge me, and the turning points that quietly
            influence my journey here.
          </p>
        </div>

        <BeyondSurfaceIntro />
      </div>

      <!-- Footer on mobile only -->
      <div
        class="lg:hidden fixed bottom-0 left-0 right-0 flex justify-center pb-4 bg-skin-secondary"
      >
        <Footer />
      </div>
    </main>

    <!-- Footer on desktop only -->
    <div class="hidden lg:block">
      <Footer />
    </div>

    <style is:global>
      @keyframes rise {
        from {
          opacity: 0;
          transform: scale(0.9);
        }
        to {
          opacity: 1;
          transform: scale(1);
        }
      }

      @keyframes fadeOut {
        to {
          opacity: 0;
        }
      }
    </style>
  </body>
</html>
